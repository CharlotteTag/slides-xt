<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Refreshed reveal.js slides for CMPUT 404</title>
    <script defer src="../main.js"></script></head>
    <body>
        <div class="reveal">
            <div class="slides">
            
<section>
    <h1>CMPUT 404</h1>
    <h3>Web Applications and Architecture</h3>
    <h2>Part 06: JavaScript</h2>
    <p>
        <small>Created by <br>
            <a href="http://softwareprocess.es">Abram Hindle</a>
            (<a href="mailto:abram.hindle@ualberta.ca">abram.hindle@ualberta.ca</a>) <br> and Hazel Campbell (<a
                href="mailto:hazel.campbell@ualberta.ca">hazel.campbell@ualberta.ca</a>).<br> Copyright 2014-2023.
        </small>
    </p>
</section>
<section style="font-size: 80%">
    <h3>Resources</h3>
    <p>Good resources for JavaScript:</p>
    <ul>
        <li>JSFiddle: <a href="http://jsfiddle.net/">http://jsfiddle.net/</a></li>
        <li>Current ECMAScript Specification: <a
                href="https://www.ecma-international.org/publications-and-standards/standards/ecma-262/">https://www.ecma-international.org/publications-and-standards/standards/ecma-262/</a>
        </li>
        <li>MDN: <a
                href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">https://developer.mozilla.org/en-US/docs/Web/JavaScript</a>
        </li>
        <li>W3Schools JavaScript Tutorials: <a href="http://www.w3schools.com/js/">http://www.w3schools.com/js/</a></li>
    </ul>
</section>

<section>
    <h3>History</h3>
    <p>Where did it come from?</p>
    <ul>
        <li>Created in one day by Brendan Eich for Netscape in 1995</li>
        <li>Inspired by Java, C, Self, Perl...</li>
        <li>Multi-paradigm <ul style="columns: 2;">
                <li>Imperative</li>
                <li>Functional</li>
                <li>Object-oriented</li>
                <li>Prototype-driven</li>
                <li>Event-driven</li>
                <li>Embeddable</li>
            </ul>
        </li>
    </ul>
</section>
<section>
    <h3>Problems</h3>
    <p>JavaScript has problems...</p>
    <ul>
        <li><a href="https://www.destroyallsoftware.com/talks/wat">https://www.destroyallsoftware.com/talks/wat</a></li>
    </ul>
</section>
<section>
    <h3>Why?</h3>
    <p>If JavaScript has problems then why learn it? Why use it?</p>
    <ul>
        <li>It runs <em>everywhere</em>
            <ul>
                <li>Browsers (Firefox, Chrome, Edge, Safari...)</li>
                <li>Servers (nodejs)</li>
                <li>PDFs</li>
            </ul>
        </li>
        <li>Fast: modern browsers compile JavaScript to machine code</li>
    </ul>
</section>
<section style="font-size: 80%;">
    <h3>Why?</h3>
    <p>If JavaScript has problems then why learn it? Why use it?</p>
    <ul>
        <li><a href="https://en.wikipedia.org/wiki/ECMAScript_version_history#14th_Edition_%E2%80%93_ECMAScript_2023">Constantly
                integrating the best features of other things...</a></em>
            <ul>
                <li>jQuery</li>
                <li>Compiled Languages</li>
                <li>Number Crunching</li>
                <li>Modules</li>
                <li>async/await</li>
                <li>Soon: typed variables?</li>
            </ul>
        </li>
        <li>While maintaining 99% backwards compatibility</li>
    </ul>
</section>
<section>
    <h3>JS on Webpages</h3>
    <p>Put the JavaScript within <var>&lt;script></var> tags.</p>
    <pre><code class="html">&lt;script&gt;
    var someJS = &quot;JS in a &lt;script&gt; tag!&quot;;
&lt;/script&gt;
&lt;!-- you can embed oneliners within HTML! --&gt;
&lt;button onClick=&quot;alert(&#39;Stuck in JS factory, send help!&#39;);&quot;&gt;
    Test me!
&lt;/button&gt;</code ></pre>
    <button onClick="alert('Stuck in JS factory, send help!');">Test me!</button>
</section>

<section>
    <h3>JS on Webpages</h3>
    <p>Or put the JavaScript at a seperate URL with <var>&lt;script></var> tags.</p>
    <pre><code class="javascript">&lt;script src=&quot;myscript.js&quot;&gt;&lt;/script&gt;
&lt;!--You have to put the closing &lt;/script&gt; tag because script isn&#39;t a void tag!--&gt;</code></pre>
    <p>Then in the content (file) at the URL specified:</p>
    <pre><code class="javascript">&#39;use strict&#39;;
var someJS = &quot;JS in a script tag!&quot;; // js uses C-style comments</pre></code>
</section>
<section style="font-size: 90%;">
    <h3>Functions</h3>
    <ul>
        <li>Functions can return values</li>
        <li>Functions can have parameters</li>
        <li>Functions can access all available scope (closures)</li>
    </ul>
    <pre><code class="javascript">// Function one with no parameters
function one() {
    return 1;
}
// A function with 1 param
function f(x) { 
    return 2*x; 
}
// How to call the function
f(2) == 4.0;
// Show on the console each click event
// Unnamed (anonymous) function
button.addEventListener(&quot;click&quot;, function(e) {
    console.log(e);
});</pre></code>
</section>
<section style="font-size: 90%;">
    <h3>Anonymous Functions</h3>
    <ul>
        <li>Often preferred...</li>
    </ul>
    <pre><code class="javascript">// Function could be accidentally redefined
function one() {
    return 1;
}
// Function cannot be accidentally redefined
const two = function() { 
    return 2; 
}</pre></code>
</section>
<section>
    <h3>Closure</h3>
    <ul>
        <li>Functions in functions can see the outer function's variables from when the function was defined</li>
    </ul>
    <pre><code class="javascript">// I&#39;m some javascript
/* also a comment */
function outer(text) {
    function inner(x) {
        alert(text);
    }
    return inner;
}
f = outer(&quot;Hi mom I&#39;m on the projector&quot;);
f(1);</pre></code>
</section>
<section>
    <ul>
        <li>Functions in functions can see the outer function's variables from when the function was defined</li>
    </ul>
    <pre><code class="javascript">function p(a) {
    function q() {
        console.log(&quot;a: &quot; + a);
        console.log(&quot;arguments: &quot; + arguments[0]);
    }
    return q;
}
r = p(1);
s = p(2); // now p is finished running, what happens to a?
r(3); // print 1
s(4); // print 2</pre></code>
</section>
<section>
    <h3>Scope</h3>
    <ul>
        <li>By default creating a variable makes globals</li>
    </ul>
    <pre><code class="javascript">function f() {
    a = &quot;something that should be encapsulated&quot;;
}
f();
console.log(a); // oops we leaked the data&lt;</pre></code>
    <p>Solution: use <code>'use strict';</code>, <code>let</code>, <code>const</code>, and <code>var</code>.
</section>

<section>
    <ul>
        <li><var>let</var> and <var>const</var> scopes variables/constants to the enclosing block</li>
        <li><var>var</var> scopes variables to the enclosing function</li>
    </ul>
    <pre><code class="javascript">&quot;use strict&quot;;
function f() {
    let a = 1;
    for (let i = 1; i &lt; 10; i++) {
        var c = i; // var defines it inside the function
        let b = i; // let only defines it inside the for loop
    }
    console.log(c); // 9
    console.log(b); // Reference Error
}
f();
console.log(a); // Reference Error</pre></code>
</section>
<section>
    <h3>Type Coercion</h3>
    <p>In Python the following code throws a type error:</p>
    <pre><code class="javascript">"1" + 1</code></pre>
    <p>But in JavaScript you get:</p>
    <pre><code class="plaintext">"11"</code></pre>
</section>
<section>
    <h3><var>this</var></h3>
    <p>Like <var>self</var> in Python, except:</p>
    <ul>
        <li>You don't have to list in the arguments</li>
        <li>It's not automatically bound to an object</li>
    </ul>
    <pre><code class="javascript">function f() {
    console.log(this);
}
f();</code></pre>
</section>

<section>
    <div class="columns" style="font-size: 90%">
        <div class="column">
            <h4>Python</h4>
            <pre><code class="python">class MyClass:
    def write(self):
        print(self)
i = MyClass()
x = i.write
x()
y = MyClass.write
y()</code></pre>
            <p>In Python the <code>x</code> method is bound to the <code>i</code> object, and <code>y</code> is not.</p>
        </div>
        <div class="column">
            <h4>JavaScript</h4>
            <pre><code class="javascript">class MyClass {
    write() {
        console.log(this);
    }
}
i = new MyClass();
x = quiz.write;
x();
// Quiz.write doesnt work in JS</code></pre>
            <p>In JavaScript the <code>x</code> function isn't bound to <em>anything</em> unless we call it explicitly
                like
                <code>i.write</code>, <code>x.call(i)</code> or bind it with <code>x.bind(i)</code>
            </p>
        </div>
    </div>
</section>
<section>
    <h3>More Anonymous Functions</h3>
    <pre><code class="javascript">var outer = function(text) {
    console.log(&quot;in outer: &quot; + this);
    return function(x) {
        console.log(&quot;in inner: &quot; + this);
        alert(text);
    }
}
var f = outer.call(
    &quot;this string is outer&#39;s this&quot;,
    &quot;Hi mom I&#39;m on the projector&quot;
);
f.call(
    &quot;this string is the this now&quot;,
    &quot;this string does nothing&quot;
);</code></pre>
</section>
<section>
    <h3>Arrow Functions: Why?</h3>
    <p>This does <strong>not</strong> work!</p>
    <pre><code class="javascript">class MyClass {
    constructor() {
        this.state = 1;
    }
    getIncrementer() {
        return function() { // this does NOT work
            this.state += 1;
        }
    }
}
var i = new MyClass();
var f = i.getIncrementer();
f();
console.log(i.state);</code></pre>
</section>
<section>
    <h3>Arrow Functions: Why?</h3>
    <p>This does work!</p>
    <pre><code class="javascript">class MyClass {
    constructor() {
        this.state = 1;
    }
    getIncrementer() {
        return () =&gt; { // fixed
            this.state += 1;
        }
    }
}
var i = new MyClass();
var f = i.getIncrementer();
f();
console.log(i.state);</code></pre>
</section>
<section>
    <h3>This Example 2</h3>
    <p>What happens?</p>
    <pre><code class="javascript">this.name = &quot;Closured C!&quot;;
var a = {
    name: &quot;Awesome A!&quot;,
    getName: function() {
        return this.name;
    }
};
var b = {
    name: &quot;Beautiful B!&quot;
};
b.getName = a.getName;
console.log(b.getName());
console.log(a.getName());</code></pre>
</section>
<section>
    <h3>This Example 2</h3>
    <p>What happens?</p>
    <pre><code class="javascript">this.name = &quot;Closured C!&quot;;
var a = {
    name: &quot;Awesome A!&quot;,
    getName: () =&gt; {
        return this.name;
    }
};
var b = {
    name: &quot;Beautiful B!&quot;
};
b.getName = a.getName;
console.log(b.getName());
console.log(a.getName());</code></pre>
</section>
<section>
    <h3>Names</h3>
    <ul>
        <li>Start with a letter followed by underscores, letters or numbers.</li>
        <li>Can't be a reserved word like <var>break</var> or <var>case</var> or <var>for</var> or <var>function</var>
            or <var>if</var> or <var>in</var> etc.</li>
        <li>Convention is to use <var>camelCase</var> like Java not <var>snake_case</var> like Python.</li>
    </ul>
    <pre><code class="javascript">var aString = &quot;Strings&quot;;
var break = &quot;not allowed!&quot;;
var BREAK = &quot;This is allowed!&quot;;
var BrEAK = &quot;Try not to abuse case sensitivity&quot;;</code></pre>
</section>
<section>
    <h3>Numbers</h3>
    <ul>
        <li>Everything is a double :(</li>
        <li>Write integers, decimals, or decimals with an exponent</li>
    </ul>
    <pre><code class="javascript">var aNumber = 10;
var aNumber = 11.11;
var aNumber = 1e-100;
var aNumber = 1E+100;
var nan = NaN;
var inf = Infinity;
var negativeInfinity = -Infinity;</code></pre>
</section>
<section>
    <h3>Casting Numbers</h3>
    <ul>
        <li>Getting an "integer"</li>
    </ul>
    <pre><code class="javascript">Math.floor(0.7)
Math.ceil(0.7)
Math.round(0.7)
Math.trunc(0.7)</code></pre>
    <ul>
        <li>Getting a float</li>
    </ul>
    <pre><code class="javascript">parseFloat(&quot;127&quot;)
Number(&quot;0x7F&quot;)
+&quot;0x7F&quot; // Unary plus is the same as Number</code></pre>
</section>
<section>
    <h4>Rounding Errors</h4>
    <p>Since everything's a double, you get rounding errors...</p>
    <pre><code class="javascript">function horse(b) {
    var c = b;
    return function() {
        return 1/c;
    };
}
f = horse(101);
g = horse(102);
h = horse(103);
console.log(1/f()==101);
console.log(1/g()==102);
console.log(1/h()==103);</code></pre>
    <button type="button" onclick="alert(1/(1/103))">1/(1/103)</button>
</section>
<section>
    <h3>Strings</h3>
    <ul>
        <li>Unicode by default</li>
        <li>Use ' ' or " "</li>
        <li>Any characters except control characters and \, " or '</li>
    </ul>
    <pre><code class="javascript">var aNumber = 10;
var aString = &quot;&quot;;
var anotherString =&quot;Hi how are you&quot;;
var escapesString = &quot;&#92;r&#92;n&#92;t&#92;f&#92;b&#92;/&#92;&#92;&#92;&#92;&#39;&#92;&quot;&quot;;
var snowMan = &quot;&#92;u2603&quot;;
snowMan.length === 1;
aString.length === 0;</code></pre>
    &#9731;<button type="button" onclick="alert('\u2603')">&#9731;</button>&#9731;
</section>
<section>
    <h3>Casting Strings</h3>
    <ul>
        <li>Convert to string</li>
    </ul>
    <pre><code class="javascript">&quot;&quot; + 1;
1 + &quot;&quot;;
String(1); 
(1).toString();
String(null); // &quot;null&quot;
null.toString(); // Error
(127).toString(16); // &quot;7F&quot;</code></pre>
</section>

<section>
    <h3>Booleans</h3>
    <ul>
        <li><var>true</var>, <var>false</var></li>
        <li>Unfortunately conditional expressions have lot of truthy and falsey values</li>
        <li>False values:</li>
    </ul>
    <pre><code class="javascript">false
null
undefined
&#39;&#39;
0
NaN</code></pre>
    <ul>
        <li>True values are <var>true</var> and everything else.</li>
    </ul>
</section>

<section>
    <h3>Equality</h3>
    <ul>
        <li><var>==</var> the <em>abstract</em> equality operator</li>
        <li><var>===</var> the <em>strict</em> equality operator</li>
    </ul>
    <pre><code class="javascript">3==&quot;3&quot; // true
3===&quot;3&quot; // false
1==true // true
1===true // false
undefined == null // true
undefined === null // false
NaN==NaN // false
NaN===NaN // false
isNaN(NaN) // true</code></pre>
    <ul>
        <li>In general you should always use <var>===</var></li>
    </ul>
</section>

<section>
    <h3>Arrays</h3>
    <ul>
        <li>Object-oriented and full of methods</li>
        <li>0-indexed</li>
    </ul>
    <pre><code class="javascript">var empty = [];
var arrayInitialized = [1,2,3,4,&#39;5&#39;];//mixed!
var arr = new Array(10);
arr[0] === undefined;
arr[0] = &#39;Assigned&#39;;
&#39;Assigned&#39; === arr[0];
arrayInitialized[4] === &#39;5&#39;;
arrayInitialized.length === 5;
arrayInitialized.splice(3,1); // delete 4 from the array (slow)</code></pre>
</section>
<section>
    <ul>
        <li>loop over arrays with <var>for ... of</var></li>
    </ul>
    <pre><code class="javascript">let a = [1, 2, 3, 4, 5];
for (let i of a) {
    console.log(i);
}</code></pre>
</section>
<section>
    <h3>Objects</h3>
    <ul>
        <li>Everything is an object except booleans, numbers and strings</li>
        <li>Boolens, numbers and strings still have methods</li>
        <li>Objects have properties</li>
        <li>Properties are named by a string</li>
        <li>Property values can be anything <em>including</em> undefined</li>
        <li>Objects don't have a class</li>
        <li>Pass by reference</li>
    </ul>
</section>
<section>
    <h4>Objects</h4>
    <pre><code class="javascript">var empty = {};
var abram = {
    &quot;name&quot;:&quot;Abram Hindle&quot;,
    &quot;job&quot;:&quot;Throwing Down JS&quot;,
    &quot;favorite tea&quot;:&quot;puerh&quot;
};
var dog = {
    paws: 4 // note I didn&#39;t quote paws
};
dog.paws === 4;
abram[&quot;favorite tea&quot;] === &quot;puerh&quot;;
abram.name === &quot;Abram Hindle&quot;;</code></pre>
</section>
<section>
    <h4>Objects</h4>
    <pre><code class="javascript">undefined.property; // Throws a type error
undefined &amp;&amp; undefined.property // returns undefined
var empty = {};
empty.property === undefined;
var abram = {
    &quot;name&quot;:&quot;Abram Hindle&quot;,
    &quot;job&quot;:&quot;Throwing Down JS&quot;,
    &quot;favorite tea&quot;:&quot;puerh&quot;
};
keys(abram); // produces [&quot;name&quot;,&quot;job&quot;,&quot;favorite tea&quot;]
//prototype!
var abramChild = Object.create(abram)
keys(abramChild); // produces []
abramChild.name === &quot;Abram Hindle&quot;; // inherits keys from abram</code></pre>
</section>
<section>
    <h4>Prototypes</h4>
    <pre><code class="javascript">var abram = {
    &quot;name&quot;:&quot;Abram Hindle&quot;,
    &quot;job&quot;:&quot;Throwing Down JS&quot;,
    &quot;favorite tea&quot;:&quot;puerh&quot;,
    &quot;sayName&quot;: function() {
        alert(this.name);
    }
};
abramChild = Object.create(abram);
abramChild.name = &quot;Child&quot;;
function doit() {
    abram.sayName();
    abramChild.sayName();
}</code></pre>
</section>

<section>
    <h3>Looping over Properties</h3>
    <ul>
        <li>Use the <var>for ... in</var> syntax</li>
    </ul>
    <pre><code class="javascript">let author = {
    &quot;name&quot;:&quot;Unknown Slide Author&quot;,
    &quot;job&quot;:&quot;Making Slides&quot;,
    &quot;sayName&quot;: function() {
        alert(this.name);
    }
};
let hazel = Object.create(author);
hazel.name = &quot;Hazel Campbell&quot;;
for (let property in hazel) {
    alert(property + &quot;: &quot; + hazel[property]);
}</code></pre>
    <ul>
        <li><var>for ... in</var> includes properties from the prototype!</li>
    </ul>
</section>
<section>
    <h3>Remember!</h3>
    <ul>
        <li>for value of iterable (array)</li>
        <li>for key in object</li>
        <li>Hazel's mnenonic: <i>I have an <b>array of</b> finely crafted <b>objects in</b> my gallery.</i></li>
        <li><a href="https://maximorlov.com/forof-vs-forin-memory-trick/">Maxim Orlov's mnemonic:</a> <i>UF<b>O</b>
                Al<b>i</b>e<b>n</b>s</i></li>
        <li><a href="https://stackoverflow.com/a/29286412">Some more mnemonics from StackOverflow</a></li>
    </ul>
</section>
<section>
    <h3>Classes</h3>
    <p>JavaScript has several ways of creating "classes"</p>

    <ul>
        <li>ECMAScript 2015 classes</li>
        <li>Constructor functions</li>
    </ul>
</section>
<section>
    <h3>ECMAScript 2015 Classes</h3>
    <ul>
        <li>Recommended</li>
    </ul>
    <pre><code class="javascript">class Pokemon {
    constructor(name, level) {
        this.name = name;
        this.level = level;
    }
    levelUp() {
        this.level += 1;
    }
}
pikachu = new Pokemon(&quot;Pikachu&quot;, 1);
pikachu.levelUp();</code></pre>
</section>
<section>
    <h3>ECMAScript 2022 Classes</h3>
    <ul>
        <li>Supports <code>static</code> methods & fields</li>
        <li>Private methods & fields start with a <code>#</code></li>
    </ul>
    <pre><code class="javascript">class Something extends Superthing {
    static count = 0;
    constructor(param) {
        super(param); // must call before we can use this
        this.#private = Math.random();
    }
    static someMethod() {
    }
    #privateMethod() {
    }
}</code></pre>
</section>
<section>
    <h3>Constructor Function</h3>
    <ul>
        <li>You might see this in old code</li>
    </ul>
    <pre><code class="javascript">// classes start with a capital letter by convention
function Pokemon(name,level) {
    this.name = name;
    this.level = level;
    this.levelUp = function() {
        this.level += 1;
    }
}
pikachu = new Pokemon(&quot;Pikachu&quot;, 1);
pikachu.levelUp();</code></pre>
</section>
<section>
    <h4>Constructor Function</h4>
    <ul>
        <li>You might also see the methods added to the prototype later</li>
    </ul>
    <pre><code class="javascript">// classes start with a capital letter by convention
function Pokemon(name,level) {
    this.name = name;
    this.level = level;
}
// have to include &quot;prototype&quot; here so &quot;this&quot; works in the method
Pokemon.prototype.levelUp = function() {
    this.level += 1;
}
pikachu = new Pokemon(&quot;Pikachu&quot;, 1);
pikachu.levelUp();</code></pre>
</section>
<section>
    <h3><var>Object.create(prototype)</var></h3>
    <ul>
        <li>Awkward and rarely used</li>
    </ul>
    <pre><code class="javascript">// classes start with a capital letter by convention
var Pokemon = {
    name: null,
    level: null,
    levelUp: function() {
        this.level += 1;
    }
}
pikachu = Object.create(Pokemon);
pikachu.name = &quot;Pikachu&quot;;
pikachu.level = 1;
pikachu.levelUp();</code></pre>
</section>
<section>
    <h3>Manipulating the DOM</h3>
    <ul>
        <li>You can use JavaScript to manipulate what's on the page</li>
        <li>Browser turns HTML into the DOM</li>
        <li>Document Object Model
            <ul>
                <li>Document: the stuff on your page, the content</li>
                <li>Object: gets turned into objects accessible by JS</li>
                <li>Model: it's a tree with children nodes</li>
            </ul>
        </li>
        <li>Take the <a href="https://www.w3schools.com/js/js_htmldom.asp">JS HTML DOM Tutorial</a></li>
    </ul>
</section>
<section>
    <h3>DOM Elements from HTML</h3>
    <pre><code class="html">
    &lt;p>A paragraph&lt;/p>
    &lt;div>
      Hi!
      &lt;a href="https://google.ca">Click me!&lt;/a>
    &lt;/div>
  </code></pre>
    <blockquote id="domexample">
        <p>A paragraph</p>
        <div>
            Hi!
            <a href="https://google.ca">Click me!</a>
        </div>
    </blockquote>
</section>
<section style="font-size: 80%">
    <h3>Top of the DOM</h3>
    <ul>
        <li>Document (it's a tree with children nodes!)<ul>
                <li>Root Element: HTML ( document.children[0] )<ul>
                        <li>Element: Head ( document.children[0].children[0] )</li>
                        <li>Element: Body ( document.children[0].children[1] )<ul>
                                <li>Element: p ( document.children[0].children[1].children[0] )<ul>
                                        <li>Text: A paragrah</li>
                                    </ul>
                                </li>
                                <li>Element: div<ul>
                                        <li>Text: Hi!</li>
                                        <li>Element: a ; attribute href<ul>
                                                <li>Text: Click me!</li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
</section>
<section>
    <h3>Recursive</h3>
    <script>
        function domRecurseExample() {
            var start = document.querySelector("#domexample");
            alert(domRecurse(start, 0));
        }
        function domRecurse(start, depth) {
            var out = "";
            for (child of start.childNodes) {
                indent = "    ".repeat(depth);
                out += indent + "* " + child.nodeName;
                if (child.nodeName === "#text") {
                    out += " " + JSON.stringify(child.wholeText);
                }
                out += "\n";
                out += domRecurse(child, depth + 1);
            }
            return out;
        }
    </script>
    <pre><code class="javascript">function domRecurse(start, depth) {
    var out = &quot;&quot;;
    for (child of start.childNodes) {
        indent = &quot;    &quot;.repeat(depth);
        out += indent + &quot;* &quot; + child.nodeName;
        if (child.nodeName === &quot;#text&quot;) {
            out += &quot; &quot; + JSON.stringify(child.wholeText);
        }
        out += &quot;&#92;n&quot;;
        out += domRecurse(child, depth + 1);
    }
    return out;
}</code></pre>
    <button type="button" onclick="domRecurseExample()">Try it!</button>
</section>
<section>
    <h3>querySelector</h3>
    <ul>
        <li>Jump straight to an element</li>
        <li>Use CSS-style selectors</li>
        <li>You don't need jQuery</li>
    </ul>
    <script>
        function domRecurseExample2() {
            var start = document.querySelector("#domexample2");
            alert(domRecurse(start, 0));
        }
    </script>
    <pre><code class="javascript">function domRecurseExample2() {
    var start = document.querySelector(&quot;#domexample2&quot;);
    alert(domRecurse(start, 0));
}</code></pre>
    <pre><code class="html">&lt;p id=&quot;domexample2&quot;&gt;The paragraph we&#39;re looking for.&lt;/p&gt;
&lt;button type=&quot;button&quot; onclick=&quot;domRecurseExample2()&quot;&gt;Try it!&lt;/button&gt;</code></pre>
    <p id="domexample2">The paragraph we're looking for.</p>
    <button type="button" onclick="domRecurseExample2()">Try it!</button>
</section>
<section>
    <h3>Finding DOM Elements</h3>
    <ul>
        <li>Other than <var>querySelector</var></li>
    </ul>
    <pre><code class="javascript">// Get all DIVs
var divs = document.getElementsByTagName(&quot;div&quot;); 
// gets all elements with class divider
var dividers = document.getElementsByClassName(&quot;divider&quot;); 
// get the element with the ID main
var main = document.getElementById(&#39;main&#39;);
// get the element by name
var ups = document.getElementsByName(&#39;up&#39;);</code></pre>
</section>
<section>
    <h3>jQuery?</h3>
    <p>jQuery's functionality is now available from APIs built-in to browsers.</p>
    <ul>
        <li>Old projects that need backwards-compatibility or already use jQuery:
            <ul>
                <li>Using jQuery is totally cool!</li>
            </ul>
        </li>
        <li>New projects using ECMA 2016 and later:
            <ul>
                <li>Better to just use the tools the browser gives you.</li>
            </ul>
        </li>
    </ul>
</section>
<section>
    <h3>Changing Document Content</h3>
    <p>Changing the DOM</p>
    <pre><code class="html">&lt;div id=&quot;fillme&quot;&gt;&lt;/div&gt;</pre></code>
    <script>
        function fillExample() {
            fillme = document.getElementById("fillme");
            fillme.textContent = "Here's some text in that div! ";
            a = document.createElement("a"); // create an a element
            a.textContent = "Let's make a link too!";
            a.href = "https://google.ca/";
            fillme.appendChild(a);
        }
    </script>
    <pre><code class="javascript">function fillExample() {
    fillme = document.getElementById(&quot;fillme&quot;);
    fillme.textContent = &quot;Here&#39;s some text in that div! &quot;;
    a = document.createElement(&quot;a&quot;); // create an a element
    a.textContent = &quot;Let&#39;s make a link too!&quot;;
    a.href = &quot;https://google.ca/&quot;;
    fillme.appendChild(a);
}</pre></code>
    <blockquote>
        <div id="fillme"></div>
    </blockquote>
    <button type="button" onclick="fillExample()">Try it!</button>
</section>
<section style="font-size: 90%">
    <h3>Changing Document Style</h3>
    <pre><code class="html">&lt;div class=&quot;styleme&quot;&gt;I&#39;m text in a div!&lt;/div&gt;
&lt;div class=&quot;styleme&quot;&gt;I&#39;m text in another div!&lt;/div&gt;</pre></code>
    <script>
        function styleExample() {
            var divs = document.getElementsByClassName("styleme");
            divs = Array.prototype.slice.call(divs); // convert HTMLCollection to Array
            divs.map((div) => {
                console.log(div);
                div.style.border = "5px solid";
                div.style.borderColor = "rgb(" + (256 * Math.random())
                    + ", " + (256 * Math.random())
                    + ", " + (256 * Math.random()) + ")";
            });
        }
    </script>
    <pre><code class="javascript">function styleExample() {
    var divs = document.getElementsByClassName(&quot;styleme&quot;);
    divs = Array.prototype.slice.call(divs); // convert HTMLCollection to Array
    divs.map((div) =&gt; {
        console.log(div);
        div.style.border = &quot;5px solid&quot;;
        div.style.borderColor = &quot;rgb(&quot; + (256 * Math.random())
            + &quot;, &quot; + (256 * Math.random())
            + &quot;, &quot; + (256 * Math.random()) + &quot;)&quot;;
    });
}</pre></code>
    <blockquote>
        <div class="styleme">I'm text in a div!</div>
        <div class="styleme">I'm text in another div!</div>
    </blockquote>
    <button type="button" onclick="styleExample()">Try it!</button>
</section>
<section style="font-size: 90%">
    <h3>Changing Document Style</h3>
    <script>
        function styleExample2() {
            old = document.getElementById("styleme2sheet");
            if (old) {
                old.parentNode.removeChild(old);
            }
            var css = "div.styleme2 { border: 5px solid "
                + "rgb(" + (256 * Math.random())
                + ", " + (256 * Math.random())
                + ", " + (256 * Math.random()) + "); }";
            style = document.createElement('style');
            style.type = "text/css";
            style.id = "styleme2sheet";
            style.textContent = css;
            document.head.appendChild(style);
        }
    </script>
    <pre><code class="javascript">function styleExample2() {
    old = document.getElementById(&quot;styleme2sheet&quot;);
    if (old) {
        old.parentNode.removeChild(old);
    }
    var css = &quot;div.styleme2 { border: 5px solid &quot;
        + &quot;rgb(&quot; + (256 * Math.random())
        + &quot;, &quot; + (256 * Math.random())
        + &quot;, &quot; + (256 * Math.random()) + &quot;); }&quot;;
    style = document.createElement(&#39;style&#39;);
    style.type = &quot;text/css&quot;;
    style.id = &quot;styleme2sheet&quot;;
    style.textContent = css;
    document.head.appendChild(style);
}</pre></code>
    <blockquote>
        <div class="styleme2">I'm text in a div!</div>
        <div class="styleme2">I'm text in another div!</div>
    </blockquote>
    <button type="button" onclick="styleExample2()">Try it!</button>
</section>
<section>
    <h3>Explore The DOM</h3>
    <ul>
        <li>Right-click -> Inspect Element</li>
        <li>Change DOM elements and Style!</li>
        <li>Copy parts of the HTML out to the clipboard!</li>
        <li>Remove annoying elements!</li>
        <li>Of course, websites that use lots of divs, custom tags, or FE frameworks that create lots of divs like React
            make this annoying...</li>
    </ul>
</section>
<section>
    <h3>More Resources</h3>
    <ul>
        <li><a href="http://www.w3schools.com/js/js_htmldom.asp">W3CSchools Javascript DOM</a></li>
        <li><a href="http://www.w3schools.com/js/js_dom_examples.asp">W3CSchools Javascript HTML DOM
                Examples</a></li>
        <li><a href="https://developer.mozilla.org/en-US/docs/DOM/DOM_Reference/Introduction">DOM Intro and Reference
                from
                MDN</a></li>
        <li><a href="https://developer.mozilla.org/en/docs/DOM">Mozilla Network DOM
                Refs</a></li>
        <li><a href="http://www.w3.org/TR/WD-DOM/introduction.html">W3C What is a DOM</a></li>
    </ul>
</section>

                          <section style="font-size: 90%">
                <h4>License</h4>
                <p>Copyright 2014-2023 ⓒ Abram Hindle</p>
                <p>Copyright 2019-2023 ⓒ Hazel Victoria Campbell and contributors</p>
                <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />The textual components and original images of this slide deck are
                    placed under the Creative Commons is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.      
                </p>
                <p>Other images used under fair use and copyright their copyright holders.</p>
            </section>
            <section>
                    <h4>License</h4>
                    The source code to this slide deck is:
                    <pre><code class="plaintext">
Copyright (C) 2019, 2023 Hazel Victoria Campbell
Copyright (C) 2019 Abram Hindle and contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
            </code></pre>
        </section>

            </div>
          </div>
    </body>    
</html>
